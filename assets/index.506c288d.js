import{r as t,o as e,c as a,w as s,a as n,b as l,t as r,d as o,p as i,e as d,F as u,f as c,g as h,h as p,P as m,I as f,i as y,j as b,k as v,l as g,m as $,n as w,q as _,N as k,s as D,u as L,v as S,x as j,y as C,z as M,A as x,B as O,C as I,D as N,E as U,G as T,H as B,J as P,K as H,L as J,M as R,O as z,Q as A,R as E}from"./vendor.c302183f.js";const G={name:"BreadCrumbNav",data:()=>({}),methods:{to(t){this.$router.push(t)}}},V=l("相簿首页");G.render=function(i,d,u,c,h,p){const m=t("n-breadcrumb-item"),f=t("n-breadcrumb");return e(),a(f,{separator:"/"},{default:s((()=>[n(m,{onClick:d[1]||(d[1]=t=>p.to("/album"))},{default:s((()=>[V])),_:1}),i.$route.params.idol?(e(),a(m,{key:0,onClick:d[2]||(d[2]=t=>p.to(`/album/${i.$route.params.idol}`))},{default:s((()=>[l(r(i.$route.params.idol),1)])),_:1})):o("",!0),i.$route.params.story?(e(),a(m,{key:1,onClick:d[3]||(d[3]=t=>p.to(`/album/${i.$route.params.idol}`))},{default:s((()=>[l(r(i.$route.params.story),1)])),_:1})):o("",!0),i.$route.params.chapter?(e(),a(m,{key:2},{default:s((()=>[l(r(i.$route.params.chapter),1)])),_:1})):o("",!0)])),_:1})};const W={components:{BreadCrumbNav:G},data(){return{target:()=>this.$refs.scrollContainer}}};W.render=function(l,r,o,i,d,u){const c=t("bread-crumb-nav"),h=t("n-layout-header"),p=t("router-view"),m=t("n-layout-content"),f=t("n-layout");return e(),a(f,null,{default:s((()=>[n(h,{class:"header",ref:"header"},{default:s((()=>[n(c)])),_:1},512),n(m,null,{default:s((()=>[n(p)])),_:1})])),_:1})};const q={name:"HelloWorld",data:()=>({state:{count:0}})},F=c("data-v-a2bbb864");i("data-v-a2bbb864");const K=n("p",null,[n("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation "),l(" | "),n("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")],-1),Q=n("p",null,[l(" Edit "),n("code",null,"components/HelloWorld.vue"),l(" to test hot module replacement. ")],-1);d();const X=F(((t,s,l,o,i,d)=>(e(),a(u,null,[K,n("button",{type:"button",onClick:s[1]||(s[1]=t=>i.state.count++)}," count is: "+r(i.state.count),1),Q],64))));q.render=X,q.__scopeId="data-v-a2bbb864";const Y={illuminationstars:["灯織","真乃","めぐる"],lantica:["摩美々","霧子","恋鐘","結華","咲耶"],hokagoclimaxgirls:["凛世","智代子","果穂","樹里","夏葉"],alstroemeria:["甘奈","千雪","甜花"],straylight:["冬優子","あさひ","愛依"],noctchill:["雛菜","透","円香","小糸"],shhis:["にちか","美琴"],"283_production":["283活动剧情","主页剧情"]};var Z={units:Y,others:{}};let tt=[],et="/sc-viewer";for(let At of Object.keys(Y))tt=tt.concat(Y[At]);function at(t,e){for(let a of tt)if(t.indexOf(a)>=0)return`${et}/assets/idol/thumb/${a}.webp`;return e?`${et}/assets/idol/thumb/${e}.webp`:`${et}/assets/idol/thumb/dummy.webp`}function st(t){return`${et}/assets/idol/icon/${t}.png`}const nt="https://raw.githubusercontent.com/darwintree/sc-viewer-config/main",lt="https://raw.githubusercontent.com/ShinyGroup/SCTranslationData/master/data/story",rt=["櫻木 真乃","風野 灯織","八宮 めぐる","月岡 恋鐘","田中 摩美々","白瀬 咲耶","三峰 結華","幽谷 霧子","小宮 果穂","園田 智代子","西城 樹里","杜野 凛世","有栖川 夏葉","大崎 甘奈","大崎 甜花","桑山 千雪","芹沢 あさひ","黛 冬優子","和泉 愛依","浅倉 透","樋口 円香","福丸 小糸","市川 雛菜","七草 にちか","緋田 美琴"];function ot(t){for(let e of rt)if(e.indexOf(t)>=0)return e.split(" ").join("");return t}async function it(t){let e=await h.get(t);return console.log(e.data),e.data}const dt={name:"UnitRow",props:["unitName"],computed:{unitMembers(){var t;return null!=(t=this.$store.state.units[this.unitName])?t:[]},othersLine(){return"283_production"===this.unitName}},methods:{getUnitSrc:t=>function(t){return"283_production"===t?`${et}/assets/unit/rotating.gif`:`${et}/assets/unit/${t}.png`}(t),getIdolSrc:t=>at(t),to:t=>`/album/${ot(t)}`}},ut=c("data-v-4a9d7eff");i("data-v-4a9d7eff");const ct={style:{width:"100%","text-align":"center"}},ht={class:"black-a"};d();const pt=ut(((s,l,o,i,d,c)=>{const h=t("n-gi"),m=t("router-link"),f=t("n-grid");return e(),a(u,null,[n(f,{"x-gap":"12"},{default:ut((()=>[n(h,{span:6,class:"center-grid"},{default:ut((()=>[n("img",{src:c.getUnitSrc(o.unitName),style:{width:"100%"}},null,8,["src"])])),_:1}),(e(!0),a(u,null,p(c.unitMembers,(t=>(e(),a(h,{key:t,span:2},{default:ut((()=>[n(m,{to:c.to(t),tag:"img",alt:t,title:t},{default:ut((()=>[n("img",{src:c.getIdolSrc(t),style:{width:"100%",cursor:"pointer"}},null,8,["src"])])),_:2},1032,["to","alt","title"])])),_:2},1024)))),128))])),_:1}),n(f,{"x-gap":"12"},{default:ut((()=>[n(h,{span:6}),(e(!0),a(u,null,p(c.unitMembers,(t=>(e(),a(h,{key:t,span:2},{default:ut((()=>[n(m,{to:c.to(t),style:{"text-decoration":"none"}},{default:ut((()=>[n("div",ct,[n("a",ht,r(t),1)])])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1})],64)}));dt.render=pt,dt.__scopeId="data-v-4a9d7eff";const mt={name:"Album",components:{UnitRow:dt},computed:{unitList(){return Object.keys(this.$store.state.units)},others(){return Object.keys(this.$store.state.others)}}};mt.render=function(s,n,l,r,o,i){const d=t("unit-row");return e(),a("div",null,[(e(!0),a(u,null,p(i.unitList,((t,s)=>(e(),a(d,{key:s,unitName:t},null,8,["unitName"])))),128)),(e(!0),a(u,null,p(i.others,((t,s)=>(e(),a(d,{key:s,unitName:t},null,8,["unitName"])))),128))])};const ft={name:"Profile",props:["idolName"],computed:{idolSrc(){return at(this.idolName)}}};ft.render=function(l,r,o,i,d,u){const c=t("n-card");return e(),a(c,null,{cover:s((()=>[n("img",{src:u.idolSrc},null,8,["src"])])),_:1})};const yt={props:["showModal","selectedStoryObj","translatedDetails"],emits:["update:showModal"],name:"ChapterListModal",components:{PlayCircle20Regular:m,Icon:f},watch:{showModal(t){this.$emit("update:showModal",t)}},computed:{showIcon(){return Boolean(this.selectedStoryObj.id)}},methods:{getIconSrc:t=>st(t),stripCsvSuffix:t=>t.substring(0,t.length-4)}},bt=c("data-v-7fdf9e76");i("data-v-7fdf9e76");const vt={class:"n-thing-header"};d();const gt=bt(((s,o,i,d,c,h)=>{const m=t("n-avatar"),f=t("PlayCircle20Regular"),b=t("Icon"),v=t("router-link"),g=t("n-list-item"),$=t("n-list"),w=t("n-thing"),_=t("n-card"),k=t("n-modal");return e(),a(k,{show:i.showModal,"onUpdate:show":o[2]||(o[2]=t=>i.showModal=t)},{default:bt((()=>[n(_,null,{default:bt((()=>[n(w,null,y({header:bt((()=>[n("div",vt,r(i.selectedStoryObj.name),1)])),description:bt((()=>[(e(!0),a(u,null,p(i.translatedDetails[i.selectedStoryObj.name],((t,d)=>(e(),a($,{key:d},{default:bt((()=>[n(g,{class:"center"},{default:bt((()=>[n(v,{to:`/album/${s.$route.params.idol}/${i.selectedStoryObj.name}/${h.stripCsvSuffix(t)}`,class:"text item black-a",onClick:o[1]||(o[1]=t=>i.showModal=!1)},{default:bt((()=>[n(b,{size:"18"},{default:bt((()=>[n(f)])),_:1}),l(r(h.stripCsvSuffix(t)),1)])),_:2},1032,["to"])])),_:2},1024)])),_:2},1024)))),128))])),_:2},[h.showIcon?{name:"avatar",fn:bt((()=>[n(m,{src:h.getIconSrc(i.selectedStoryObj.id),size:80},null,8,["src"])]))}:void 0]),1024)])),_:1})])),_:1},8,["show"])}));yt.render=gt,yt.__scopeId="data-v-7fdf9e76";const $t={props:["presentList","translatedDetails"],components:{ChapterListModal:yt},name:"CardList",data:()=>({selectedStoryObj:null,showModal:!1}),mounted(){},methods:{getIconSrc:t=>t?st(t):"",selectStory(t){this.selectedStoryObj=t,this.showModal=!0},coverSrc:t=>`${et}/assets/campaign/${t}.webp`},computed:{showModalIcon(){var t;return Boolean(null==(t=this.selectedStoryObj)?void 0:t.id)}}},wt=c("data-v-4b537c80"),_t=wt(((s,l,o,i,d,c)=>{const h=t("n-card"),m=t("n-avatar"),f=t("n-thing"),b=t("n-gi"),v=t("n-grid"),g=t("chapter-list-modal");return e(),a(u,null,[n(v,{"x-gap":"40","y-gap":"12",cols:"4"},{default:wt((()=>[(e(!0),a(u,null,p(o.presentList,((t,s)=>(e(),a(b,{key:s},{default:wt((()=>[Boolean(t.cover)?(e(),a(h,{key:0,onClick:e=>c.selectStory(t),hoverable:""},{cover:wt((()=>[n("img",{src:c.coverSrc(t.cover)},null,8,["src"])])),header:wt((()=>[n("div",null,r(t.name),1)])),_:2},1032,["onClick"])):(e(),a(f,{key:1,class:"card-style",onClick:e=>c.selectStory(t)},y({header:wt((()=>[n("div",null,r(t.name),1)])),_:2},[Boolean(t.cover)?void 0:{name:"avatar",fn:wt((()=>[n(m,{src:c.getIconSrc(t.id),size:80},null,8,["src"])]))}]),1032,["onClick"]))])),_:2},1024)))),128))])),_:1}),n(g,{showModal:d.showModal,"onUpdate:showModal":l[1]||(l[1]=t=>d.showModal=t),selectedStoryObj:d.selectedStoryObj,translatedDetails:o.translatedDetails},null,8,["showModal","selectedStoryObj","translatedDetails"])],64)}));$t.render=_t,$t.__scopeId="data-v-4b537c80";const kt={components:{Profile:ft,CardList:$t},data:()=>({idol:"",allDetails:null,translatedDetails:null}),computed:{cardList(){if(!this.translatedDetails||!this.allDetails)return[];let t=new Set,e=Object.keys(this.allDetails).map((e=>(t.add(this.allDetails[e].name),{id:e,name:this.allDetails[e].name})));return Object.keys(this.translatedDetails).map((a=>(t.has(a)||"【"!==a[0]||(t.add(a),e.push({name:a})),null))),e},universalList(){return this.translatedDetails?Object.keys(this.translatedDetails).map((t=>"【"===t[0]?null:{name:t})).filter(Boolean):[]}},mounted(){this.$nextTick((async function(){this.idol=this.$route.params.idol,this.allDetails=(await it(this.$store.getters.allCardsUrl(this.idol))).details,this.translatedDetails=(await it(this.$store.getters.translatedUrl(this.idol))).details}))}};kt.render=function(l,r,o,i,d,u){const c=t("card-list"),h=t("n-tab-pane"),p=t("n-tabs"),m=t("n-layout-content"),f=t("profile"),y=t("n-layout-sider"),b=t("n-layout");return e(),a(b,{"has-sider":""},{default:s((()=>[n(m,null,{default:s((()=>[n(p,{"default-value":"card","justify-content":"space-evenly",type:"line"},{default:s((()=>[n(h,{name:"card",tab:"卡片剧情"},{default:s((()=>[n(c,{presentList:u.cardList,translatedDetails:d.translatedDetails},null,8,["presentList","translatedDetails"])])),_:1}),n(h,{name:"produce",tab:"共通剧情"},{default:s((()=>[n(c,{presentList:u.universalList,translatedDetails:d.translatedDetails},null,8,["presentList","translatedDetails"])])),_:1})])),_:1})])),_:1}),n(y,null,{default:s((()=>[n(f,{idolName:d.idol},null,8,["idolName"])])),_:1})])),_:1})};const Dt={components:{Profile:ft,CardList:$t},data:()=>({idol:"",allDetails:null,translatedDetails:null}),computed:{universalList(){return this.translatedDetails?Object.keys(this.translatedDetails).map((t=>"【"===t[0]?null:{name:t,cover:t})).filter(Boolean):[]}},mounted(){this.$nextTick((async function(){this.idol=this.$route.params.idol,this.translatedDetails=(await it(this.$store.getters.translatedUrl(this.idol))).details}))}};Dt.render=function(l,r,o,i,d,u){const c=t("card-list"),h=t("n-layout-content"),p=t("profile"),m=t("n-layout-sider"),f=t("n-layout");return e(),a(f,{"has-sider":""},{default:s((()=>[n(h,null,{default:s((()=>[n(c,{presentList:u.universalList,translatedDetails:d.translatedDetails},null,8,["presentList","translatedDetails"])])),_:1}),n(m,null,{default:s((()=>[n(p,{idolName:d.idol},null,8,["idolName"])])),_:1})])),_:1})};const Lt={name:"StoryLine",props:["line","index","len"],methods:{isJsonLine(){return"info"==this.line[0]||this.index===this.len-3&&""===this.line[2]},isTranslatorLine(){return"译者"===this.line[0]||this.index===this.len-2&&""===this.line[2]}},computed:{speaker(){return this.isJsonLine()?"":this.isTranslatorLine()?"译者："+this.line[1]:this.line[1]?"プロデューサー"===this.line[1]?"制作人":this.line[1]:""},ja(){return this.isJsonLine()||this.isTranslatorLine()?"":this.line[2]?this.line[2].replace("\\n","<br>"):""},cn(){return this.isJsonLine()||this.isTranslatorLine()?"":this.line[3]?this.line[3].replace("\\n","<br>"):""},thumb(){return at(this.line[1])}}},St={key:0,class:"dialogue"},jt={class:"speaker_icon"},Ct={class:"speaker_name"},Mt={class:"speak_content"};Lt.render=function(t,s,l,i,d,u){return 0===l.index||u.isJsonLine()?o("",!0):(e(),a("div",St,[n("div",jt,[n("img",{src:u.thumb},null,8,["src"])]),n("div",Ct,r(u.speaker),1),n("div",Mt,[n("div",{innerHTML:u.ja},null,8,["innerHTML"]),n("div",{innerHTML:u.cn},null,8,["innerHTML"])])]))};const xt={components:{StoryLine:Lt,ChapterListModal:yt},name:"StoryPage",data:()=>({csv:"",error:"",showModal:!1,translatedDetails:null}),watch:{path(){this.getCsv()},translatedUrl(){this.fetchDetails()}},computed:{prefix(){return this.$store.state.translationBase},idol(){return this.$route.params.idol},story(){return this.$route.params.story},chapter(){return this.$route.params.chapter},storyObj(){return{name:this.$route.params.story}},path(){let t;return"其他剧情"===this.$route.params.story?t=[this.prefix,this.$route.params.idol,this.$route.params.chapter].join("/")+".csv":this.$route.params.story&&(t=[this.prefix,ot(this.$route.params.idol),this.$route.params.story,this.$route.params.chapter].join("/")+".csv"),t},translatedUrl(){return this.$store.getters.translatedUrl(this.$route.params.idol)}},methods:{toTop(){window.scrollTo({top:0,left:0,behavior:"auto"})},async getCsv(){try{const t=await it(this.path);this.csv=b.parse(t).data}catch(t){this.error=t}},async fetchDetails(){try{this.translatedDetails=(await it(this.translatedUrl)).details}catch(t){this.error=t}}},mounted(){this.$nextTick((async function(){console.log(this.path),await Promise.all(this.getCsv(),this.fetchDetails())}))}},Ot=c("data-v-c702ce54");i("data-v-c702ce54");const It=l("回到顶部"),Nt=l("目录");d();const Ut=Ot(((s,i,d,c,h,m)=>{const f=t("n-tag"),y=t("story-line"),b=t("n-button"),v=t("chapter-list-modal");return e(),a("div",null,[""!==h.error?(e(),a(f,{key:0,type:"danger"},{default:Ot((()=>[l(r((void 0).error),1)])),_:1})):o("",!0),(e(!0),a(u,null,p(h.csv,((t,s)=>(e(),a(y,{key:s,line:t,index:s,len:h.csv.length},null,8,["line","index","len"])))),128)),n(b,{class:"to-top fixed-button",onClick:m.toTop},{default:Ot((()=>[It])),_:1},8,["onClick"]),n(b,{class:"show-content fixed-button",onClick:i[1]||(i[1]=t=>h.showModal=!0)},{default:Ot((()=>[Nt])),_:1}),n(v,{showModal:h.showModal,"onUpdate:showModal":i[2]||(i[2]=t=>h.showModal=t),selectedStoryObj:m.storyObj,translatedDetails:h.translatedDetails},null,8,["showModal","selectedStoryObj","translatedDetails"])])}));xt.render=Ut,xt.__scopeId="data-v-c702ce54";const Tt={components:{Campaign:Dt,Idol:kt},computed:{isIdolPage(){return"283活动剧情"!==this.$route.params.idol&&"主页剧情"!==this.$route.params.idol}}};Tt.render=function(s,n,l,r,o,i){const d=t("idol"),u=t("campaign");return i.isIdolPage?(e(),a(d,{key:0})):(e(),a(u,{key:1}))};const Bt=[{path:"/album",component:mt},{path:"/album/:idol",component:Tt},{path:"/album/:idol/:story/:chapter",component:xt},{path:"/",redirect:"/album"},{path:"/hello",component:q}],Pt=new v({history:g(),routes:Bt}),Ht=Z.units,Jt=$({state:()=>({count:0,units:Ht,others:Z.others,configBase:nt,translationBase:lt}),mutations:{increment(t){t.count++}},getters:{allCardsUrl:t=>e=>`${t.configBase}/idol/${ot(e)}.json`,translatedUrl:t=>e=>`${t.configBase}/story/${ot(e)}.json`}}),Rt=w(W),zt=_({components:[k,D,L,S,j,C,M,x,O,I,N,U,T,B,P,H,J,R,z,A,E]});Rt.use(Pt),Rt.use(Jt),Rt.use(zt),Rt.mount("#app");
