import{r,o as i,c as _,w as a,a as c,b as $,t as b,d as x,e as f,f as p,F as w,p as z,g as E,h as G,i as k,P as q,I as K,j as U,k as Q,l as X,m as Y,n as Z,q as tt,s as et,N as nt,u as st,v as rt,x as at,y as ot,z as lt,A as it,B as ct,C as ut,D as dt,E as _t,G as pt,H as mt,J as ht,K as ft,L as yt,M as vt,O as gt,Q as $t,R as bt,S as wt}from"./vendor.c3b3b794.js";const kt=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))h(s);new MutationObserver(s=>{for(const e of s)if(e.type==="childList")for(const l of e.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&h(l)}).observe(document,{childList:!0,subtree:!0});function o(s){const e={};return s.integrity&&(e.integrity=s.integrity),s.referrerpolicy&&(e.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?e.credentials="include":s.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function h(s){if(s.ep)return;s.ep=!0;const e=o(s);fetch(s.href,e)}};kt();var y=(t,n)=>{for(const[o,h]of n)t[o]=h;return t};const Lt={name:"BreadCrumbNav",data(){return{}},methods:{to(t){this.$router.push(t)}}},St=$("\u76F8\u7C3F\u9996\u9875");function xt(t,n,o,h,s,e){const l=r("n-breadcrumb-item"),u=r("n-breadcrumb");return i(),_(u,{separator:"/"},{default:a(()=>[c(l,{onClick:n[0]||(n[0]=d=>e.to("/album"))},{default:a(()=>[St]),_:1}),t.$route.params.idol?(i(),_(l,{key:0,onClick:n[1]||(n[1]=d=>e.to(`/album/${t.$route.params.idol}`))},{default:a(()=>[$(b(t.$route.params.idol),1)]),_:1})):x("",!0),t.$route.params.story?(i(),_(l,{key:1,onClick:n[2]||(n[2]=d=>e.to(`/album/${t.$route.params.idol}`))},{default:a(()=>[$(b(t.$route.params.story),1)]),_:1})):x("",!0),t.$route.params.chapter?(i(),_(l,{key:2},{default:a(()=>[$(b(t.$route.params.chapter),1)]),_:1})):x("",!0)]),_:1})}var Dt=y(Lt,[["render",xt]]);const Ct={components:{BreadCrumbNav:Dt},data(){return{target:()=>this.$refs.scrollContainer}}};function Nt(t,n,o,h,s,e){const l=r("bread-crumb-nav"),u=r("n-layout-header"),d=r("router-view"),m=r("n-layout-content"),v=r("n-layout");return i(),_(v,{class:"bg"},{default:a(()=>[c(u,{class:"header",ref:"header"},{default:a(()=>[c(l)]),_:1},512),c(m,null,{default:a(()=>[c(d)]),_:1})]),_:1})}var Mt=y(Ct,[["render",Nt],["__scopeId","data-v-de304ba2"]]);const It={name:"HelloWorld",data(){return{state:{count:0}}}},P=t=>(z("data-v-a2bbb864"),t=t(),E(),t),jt=P(()=>p("p",null,[p("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank"}," Vite Documentation "),$(" | "),p("a",{href:"https://v3.vuejs.org/",target:"_blank"},"Vue 3 Documentation")],-1)),Bt=P(()=>p("p",null,[$(" Edit "),p("code",null,"components/HelloWorld.vue"),$(" to test hot module replacement. ")],-1));function Ot(t,n,o,h,s,e){return i(),f(w,null,[jt,p("button",{type:"button",onClick:n[0]||(n[0]=l=>s.state.count++)}," count is: "+b(s.state.count),1),Bt],64)}var Tt=y(It,[["render",Ot],["__scopeId","data-v-a2bbb864"]]);const B={illuminationstars:["\u706F\u7E54","\u771F\u4E43","\u3081\u3050\u308B"],lantica:["\u6469\u7F8E\u3005","\u9727\u5B50","\u604B\u9418","\u7D50\u83EF","\u54B2\u8036"],hokagoclimaxgirls:["\u51DB\u4E16","\u667A\u4EE3\u5B50","\u679C\u7A42","\u6A39\u91CC","\u590F\u8449"],alstroemeria:["\u7518\u5948","\u5343\u96EA","\u751C\u82B1"],straylight:["\u51AC\u512A\u5B50","\u3042\u3055\u3072","\u611B\u4F9D"],noctchill:["\u96DB\u83DC","\u900F","\u5186\u9999","\u5C0F\u7CF8"],shhis:["\u306B\u3061\u304B","\u7F8E\u7434"],"283_production":["283\u6D3B\u52A8\u5267\u60C5","\u4E3B\u9875\u5267\u60C5"]},Ut={};var H={units:B,others:Ut};let O=[],L="/sc-viewer";for(let t of Object.keys(B))O=O.concat(B[t]);function T(t,n){for(let o of O)if(t.indexOf(o)>=0)return`${L}/assets/idol/thumb/${o}.webp`;return n?`${L}/assets/idol/thumb/${n}.webp`:`${L}/assets/idol/thumb/dummy.webp`}function Pt(t){return t==="283_production"?`${L}/assets/unit/rotating.gif`:`${L}/assets/unit/${t}.png`}function R(t){return`${L}/assets/idol/icon/${t}.png`}function Ht(t){return`${L}/assets/campaign/${t}.webp`}const A={configBase:"https://raw.githubusercontent.com/darwintree/sc-viewer-config/main",translationBase:"https://raw.githubusercontent.com/ShinyGroup/SCTranslationData/master/data/story"},Rt=["\u6AFB\u6728 \u771F\u4E43","\u98A8\u91CE \u706F\u7E54","\u516B\u5BAE \u3081\u3050\u308B","\u6708\u5CA1 \u604B\u9418","\u7530\u4E2D \u6469\u7F8E\u3005","\u767D\u702C \u54B2\u8036","\u4E09\u5CF0 \u7D50\u83EF","\u5E7D\u8C37 \u9727\u5B50","\u5C0F\u5BAE \u679C\u7A42","\u5712\u7530 \u667A\u4EE3\u5B50","\u897F\u57CE \u6A39\u91CC","\u675C\u91CE \u51DB\u4E16","\u6709\u6816\u5DDD \u590F\u8449","\u5927\u5D0E \u7518\u5948","\u5927\u5D0E \u751C\u82B1","\u6851\u5C71 \u5343\u96EA","\u82B9\u6CA2 \u3042\u3055\u3072","\u9EDB \u51AC\u512A\u5B50","\u548C\u6CC9 \u611B\u4F9D","\u6D45\u5009 \u900F","\u6A0B\u53E3 \u5186\u9999","\u798F\u4E38 \u5C0F\u7CF8","\u5E02\u5DDD \u96DB\u83DC","\u4E03\u8349 \u306B\u3061\u304B","\u7DCB\u7530 \u7F8E\u7434"];function N(t){for(let n of Rt)if(n.indexOf(t)>=0)return n.split(" ").join("");return t}async function D(t){let n=await G.get(t);return console.log(n.data),n.data}const At={name:"UnitRow",props:["unitName"],computed:{unitMembers(){var t;return(t=this.$store.state.units[this.unitName])!=null?t:[]},othersLine(){return this.unitName==="283_production"}},methods:{getUnitSrc(t){return Pt(t)},getIdolSrc(t){return T(t)},to(t){return`/album/${N(t)}`}}},Jt=["src"],Vt=["src"],Ft={style:{width:"100%","text-align":"center"}},Wt={class:"black-a"};function zt(t,n,o,h,s,e){const l=r("n-gi"),u=r("router-link"),d=r("n-grid");return i(),f(w,null,[c(d,{"x-gap":"12","item-responsive":"",responsive:"screen"},{default:a(()=>[c(l,{span:"0 m:6",class:"center-grid"},{default:a(()=>[p("img",{src:e.getUnitSrc(o.unitName),style:{width:"100%"}},null,8,Jt)]),_:1}),(i(!0),f(w,null,k(e.unitMembers,m=>(i(),_(l,{key:m,span:"4 m:3 xl:2",responsive:"screen"},{default:a(()=>[c(u,{to:e.to(m),tag:"img",alt:m,title:m},{default:a(()=>[p("img",{src:e.getIdolSrc(m),style:{width:"100%",cursor:"pointer"}},null,8,Vt)]),_:2},1032,["to","alt","title"])]),_:2},1024))),128))]),_:1}),c(d,{"x-gap":"12","item-responsive":"",responsive:"screen"},{default:a(()=>[c(l,{span:"0 m:6"}),(i(!0),f(w,null,k(e.unitMembers,m=>(i(),_(l,{key:m,span:"4 m:3 xl:2"},{default:a(()=>[c(u,{to:e.to(m),style:{"text-decoration":"none"}},{default:a(()=>[p("div",Ft,[p("a",Wt,b(m),1)])]),_:2},1032,["to"])]),_:2},1024))),128))]),_:1})],64)}var Et=y(At,[["render",zt],["__scopeId","data-v-9b04cfd8"]]);const Gt={name:"Album",components:{UnitRow:Et},computed:{unitList(){return Object.keys(this.$store.state.units)},others(){return Object.keys(this.$store.state.others)}}};function qt(t,n,o,h,s,e){const l=r("unit-row");return i(),f("div",null,[(i(!0),f(w,null,k(e.unitList,(u,d)=>(i(),_(l,{key:d,unitName:u},null,8,["unitName"]))),128)),(i(!0),f(w,null,k(e.others,(u,d)=>(i(),_(l,{key:d,unitName:u},null,8,["unitName"]))),128))])}var Kt=y(Gt,[["render",qt]]);const Qt={name:"Profile",props:["idolName"],computed:{idolSrc(){return T(this.idolName)}}},Xt=["src"];function Yt(t,n,o,h,s,e){const l=r("n-card");return i(),_(l,null,{cover:a(()=>[p("img",{src:e.idolSrc},null,8,Xt)]),_:1})}var J=y(Qt,[["render",Yt]]);const Zt={props:["showModal","selectedStoryObj","translatedDetails"],emits:["update:showModal"],name:"ChapterListModal",components:{PlayCircle20Regular:q,Icon:K},watch:{showModal(t){this.$emit("update:showModal",t)}},computed:{showIcon(){return Boolean(this.selectedStoryObj.id)}},methods:{getIconSrc(t){return R(t)},stripCsvSuffix(t){return t.substring(0,t.length-4)}}},te={class:"n-thing-header"};function ee(t,n,o,h,s,e){const l=r("n-avatar"),u=r("PlayCircle20Regular"),d=r("Icon"),m=r("router-link"),v=r("n-list-item"),S=r("n-list"),g=r("n-thing"),I=r("n-card"),j=r("n-modal");return i(),_(j,{show:o.showModal,"onUpdate:show":n[1]||(n[1]=C=>o.showModal=C)},{default:a(()=>[c(I,null,{default:a(()=>[c(g,null,U({header:a(()=>[p("div",te,b(o.selectedStoryObj.name),1)]),description:a(()=>[(i(!0),f(w,null,k(o.translatedDetails[o.selectedStoryObj.name],(C,W)=>(i(),_(S,{key:W},{default:a(()=>[c(v,{class:"center"},{default:a(()=>[c(m,{to:`/album/${t.$route.params.idol}/${o.selectedStoryObj.name}/${e.stripCsvSuffix(C)}`,class:"text item black-a",onClick:n[0]||(n[0]=Oe=>o.showModal=!1)},{default:a(()=>[c(d,{size:"18"},{default:a(()=>[c(u)]),_:1}),$(b(e.stripCsvSuffix(C)),1)]),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128))]),_:2},[e.showIcon?{name:"avatar",fn:a(()=>[c(l,{src:e.getIconSrc(o.selectedStoryObj.id),size:80},null,8,["src"])])}:void 0]),1024)]),_:1})]),_:1},8,["show"])}var V=y(Zt,[["render",ee],["__scopeId","data-v-7fdf9e76"]]);const ne={props:["presentList","translatedDetails"],components:{ChapterListModal:V},name:"CardList",data(){return{selectedStoryObj:null,showModal:!1}},mounted(){},methods:{getIconSrc(t){return t?R(t):""},selectStory(t){this.selectedStoryObj=t,this.showModal=!0},coverSrc(t){return Ht(t)}},computed:{showModalIcon(){var t;return Boolean((t=this.selectedStoryObj)==null?void 0:t.id)}}},se=["src"];function re(t,n,o,h,s,e){const l=r("n-card"),u=r("n-avatar"),d=r("n-thing"),m=r("n-gi"),v=r("n-grid"),S=r("chapter-list-modal");return i(),f(w,null,[c(v,{"x-gap":"40","y-gap":"12",cols:"2 s:2 m:2 l:3 xl:4",responsive:"screen"},{default:a(()=>[(i(!0),f(w,null,k(o.presentList,(g,I)=>(i(),_(m,{key:I},{default:a(()=>[Boolean(g.cover)?(i(),_(l,{key:0,onClick:j=>e.selectStory(g),hoverable:""},{cover:a(()=>[p("img",{src:e.coverSrc(g.cover)},null,8,se)]),header:a(()=>[p("div",null,b(g.name),1)]),_:2},1032,["onClick"])):(i(),_(d,{key:1,class:"card-style",onClick:j=>e.selectStory(g)},U({header:a(()=>[p("div",null,b(g.name),1)]),_:2},[Boolean(g.cover)?void 0:{name:"avatar",fn:a(()=>[c(u,{src:e.getIconSrc(g.id),size:80},null,8,["src"])])}]),1032,["onClick"]))]),_:2},1024))),128))]),_:1}),c(S,{showModal:s.showModal,"onUpdate:showModal":n[0]||(n[0]=g=>s.showModal=g),selectedStoryObj:s.selectedStoryObj,translatedDetails:o.translatedDetails},null,8,["showModal","selectedStoryObj","translatedDetails"])],64)}var F=y(ne,[["render",re],["__scopeId","data-v-456ea46a"]]);const ae={components:{Profile:J,CardList:F},data(){return{idol:"",allDetails:null,translatedDetails:null}},computed:{cardList(){if(!this.translatedDetails||!this.allDetails)return[];let t=new Set,n=Object.keys(this.allDetails).map(o=>(t.add(this.allDetails[o].name),{id:o,name:this.allDetails[o].name}));return Object.keys(this.translatedDetails).map(o=>(!t.has(o)&&o[0]==="\u3010"&&(t.add(o),n.push({name:o})),null)),n},universalList(){return this.translatedDetails?Object.keys(this.translatedDetails).map(t=>t[0]==="\u3010"?null:{name:t}).filter(Boolean):[]}},mounted(){this.$nextTick(async function(){this.idol=this.$route.params.idol,this.allDetails=(await D(this.$store.getters.allCardsUrl(this.idol))).details,this.translatedDetails=(await D(this.$store.getters.translatedUrl(this.idol))).details})}};function oe(t,n,o,h,s,e){const l=r("card-list"),u=r("n-tab-pane"),d=r("n-tabs"),m=r("n-layout-content"),v=r("n-layout");return i(),_(v,null,{default:a(()=>[c(m,null,{default:a(()=>[c(d,{"default-value":"card","justify-content":"space-evenly",type:"line"},{default:a(()=>[c(u,{name:"card",tab:"\u5361\u7247\u5267\u60C5"},{default:a(()=>[c(l,{presentList:e.cardList,translatedDetails:s.translatedDetails},null,8,["presentList","translatedDetails"])]),_:1}),c(u,{name:"produce",tab:"\u5171\u901A\u5267\u60C5"},{default:a(()=>[c(l,{presentList:e.universalList,translatedDetails:s.translatedDetails},null,8,["presentList","translatedDetails"])]),_:1})]),_:1})]),_:1})]),_:1})}var le=y(ae,[["render",oe],["__scopeId","data-v-cda05c94"]]);const ie={components:{Profile:J,CardList:F},data(){return{idol:"",allDetails:null,translatedDetails:null}},computed:{universalList(){return this.translatedDetails?Object.keys(this.translatedDetails).map(t=>t[0]==="\u3010"?null:{name:t,cover:t}).filter(Boolean):[]}},mounted(){this.$nextTick(async function(){this.idol=this.$route.params.idol,this.translatedDetails=(await D(this.$store.getters.translatedUrl(this.idol))).details})}};function ce(t,n,o,h,s,e){const l=r("card-list"),u=r("n-layout-content"),d=r("n-layout");return i(),_(d,null,{default:a(()=>[c(u,null,{default:a(()=>[c(l,{presentList:e.universalList,translatedDetails:s.translatedDetails},null,8,["presentList","translatedDetails"])]),_:1})]),_:1})}var ue=y(ie,[["render",ce],["__scopeId","data-v-5399ffa2"]]);const de={name:"StoryLine",props:["line","index","len"],methods:{isJsonLine(){return this.line[0]=="info"||this.index===this.len-3&&this.line[2]===""},isTranslatorLine(){return this.line[0]==="\u8BD1\u8005"||this.index===this.len-2&&this.line[2]===""}},computed:{speaker(){return this.isJsonLine()?"":this.isTranslatorLine()?"\u8BD1\u8005\uFF1A"+this.line[1]:this.line[1]?this.line[1]==="\u30D7\u30ED\u30C7\u30E5\u30FC\u30B5\u30FC"?"\u5236\u4F5C\u4EBA":this.line[1]:""},ja(){return this.isJsonLine()||this.isTranslatorLine()||!this.line[2]?"":this.line[2].replace("\\n","<br>")},cn(){return this.isJsonLine()||this.isTranslatorLine()||!this.line[3]?"":this.line[3].replace("\\n","<br>")},thumb(){return T(this.line[1])}}},_e={key:0,class:"dialogue"},pe={class:"speaker_icon"},me=["src"],he={class:"speaker_name"},fe={class:"speak_content"},ye=["innerHTML"],ve=["innerHTML"];function ge(t,n,o,h,s,e){return o.index!==0&&!e.isJsonLine()?(i(),f("div",_e,[p("div",pe,[p("img",{src:e.thumb},null,8,me)]),p("div",he,b(e.speaker),1),p("div",fe,[p("div",{innerHTML:e.ja},null,8,ye),p("div",{innerHTML:e.cn},null,8,ve)])])):x("",!0)}var $e=y(de,[["render",ge]]);const be={components:{StoryLine:$e,ChapterListModal:V},name:"StoryPage",data(){return{csv:"",error:"",showModal:!1,translatedDetails:null}},watch:{path(){this.getCsv()},translatedUrl(){this.fetchDetails()}},computed:{prefix(){return this.$store.state.translationBase},idol(){return this.$route.params.idol},story(){return this.$route.params.story},chapter(){return this.$route.params.chapter},storyObj(){return{name:this.$route.params.story}},path(){let t;return this.$route.params.story==="\u5176\u4ED6\u5267\u60C5"?t=[this.prefix,this.$route.params.idol,this.$route.params.chapter].join("/")+".csv":this.$route.params.story&&(t=[this.prefix,N(this.$route.params.idol),this.$route.params.story,this.$route.params.chapter].join("/")+".csv"),t},translatedUrl(){return this.$store.getters.translatedUrl(this.$route.params.idol)}},methods:{toTop(){window.scrollTo({top:0,left:0,behavior:"auto"})},async getCsv(){try{const t=await D(this.path);this.csv=Q.parse(t).data}catch(t){this.error=t}},async fetchDetails(){try{this.translatedDetails=(await D(this.translatedUrl)).details}catch(t){this.error=t}}},mounted(){this.$nextTick(async function(){console.log(this.path),await Promise.all(this.getCsv(),this.fetchDetails())})}},we=$("\u56DE\u5230\u9876\u90E8"),ke=$("\u76EE\u5F55");function Le(t,n,o,h,s,e){const l=r("n-tag"),u=r("story-line"),d=r("n-button"),m=r("chapter-list-modal");return i(),f("div",null,[s.error!==""?(i(),_(l,{key:0,type:"danger"},{default:a(()=>[$(b(this.error),1)]),_:1})):x("",!0),(i(!0),f(w,null,k(s.csv,(v,S)=>(i(),_(u,{key:S,line:v,index:S,len:s.csv.length},null,8,["line","index","len"]))),128)),c(d,{class:"to-top fixed-button",onClick:e.toTop},{default:a(()=>[we]),_:1},8,["onClick"]),c(d,{class:"show-content fixed-button",onClick:n[0]||(n[0]=v=>s.showModal=!0)},{default:a(()=>[ke]),_:1}),c(m,{showModal:s.showModal,"onUpdate:showModal":n[1]||(n[1]=v=>s.showModal=v),selectedStoryObj:e.storyObj,translatedDetails:s.translatedDetails},null,8,["showModal","selectedStoryObj","translatedDetails"])])}var Se=y(be,[["render",Le],["__scopeId","data-v-c702ce54"]]);const xe={components:{Campaign:ue,Idol:le},computed:{isIdolPage(){return this.$route.params.idol!=="283\u6D3B\u52A8\u5267\u60C5"&&this.$route.params.idol!=="\u4E3B\u9875\u5267\u60C5"}}};function De(t,n,o,h,s,e){const l=r("idol"),u=r("campaign");return e.isIdolPage?(i(),_(l,{key:0})):(i(),_(u,{key:1}))}var Ce=y(xe,[["render",De]]);const Ne=[{path:"/album",component:Kt},{path:"/album/:idol",component:Ce},{path:"/album/:idol/:story/:chapter",component:Se},{path:"/",redirect:"/album"},{path:"/hello",component:Tt}],Me=new X({history:Y(),routes:Ne}),Ie=H.units,je=Z({state(){return{count:0,units:Ie,others:H.others,configBase:A.configBase,translationBase:A.translationBase}},mutations:{increment(t){t.count++}},getters:{allCardsUrl:t=>n=>`${t.configBase}/idol/${N(n)}.json`,translatedUrl:t=>n=>`${t.configBase}/story/${N(n)}.json`}}),M=tt(Mt),Be=et({components:[nt,st,rt,at,ot,lt,it,ct,ut,dt,_t,pt,mt,ht,ft,yt,vt,gt,$t,bt,wt]});M.use(Me);M.use(je);M.use(Be);M.mount("#app");
